{"ast":null,"code":"var _jsxFileName = \"/Users/slinga/Desktop/workjam/src/components/storyComments/storyComments.component.tsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Comments } from \"./comments/comments.component\";\nexport const StoryComments = () => {\n  const [comments, setComments] = useState([]);\n  const {\n    id\n  } = useParams();\n\n  const getTopComments = async () => {\n    axios.get(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(res => {\n      const topComments = res.data.kids.slice(0, 20);\n      const promises = topComments.map(id => {\n        return axios.get(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(res => res.data);\n      });\n      Promise.all(promises).then(data => {\n        setComments(data);\n      });\n    });\n  };\n\n  useEffect(() => {\n    getTopComments();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: \"c-story-comments--section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Comments, {\n    comments: comments,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }));\n};","map":{"version":3,"sources":["/Users/slinga/Desktop/workjam/src/components/storyComments/storyComments.component.tsx"],"names":["React","useState","useEffect","useParams","axios","Comments","StoryComments","comments","setComments","id","getTopComments","get","then","res","topComments","data","kids","slice","promises","map","Promise","all"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,+BAAzB;AAEA,OAAO,MAAMC,aAAa,GAAG,MAAM;AACjC,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM;AAAEQ,IAAAA;AAAF,MAASN,SAAS,EAAxB;;AAEA,QAAMO,cAAc,GAAG,YAAY;AACjCN,IAAAA,KAAK,CACFO,GADH,CACQ,8CAA6CF,EAAG,OADxD,EAEGG,IAFH,CAESC,GAAD,IAAS;AACb,YAAMC,WAAW,GAAGD,GAAG,CAACE,IAAJ,CAASC,IAAT,CAAcC,KAAd,CAAoB,CAApB,EAAuB,EAAvB,CAApB;AACA,YAAMC,QAAQ,GAAGJ,WAAW,CAACK,GAAZ,CAAiBV,EAAD,IAAgB;AAC/C,eAAOL,KAAK,CACTO,GADI,CACC,8CAA6CF,EAAG,OADjD,EAEJG,IAFI,CAEEC,GAAD,IAASA,GAAG,CAACE,IAFd,CAAP;AAGD,OAJgB,CAAjB;AAKAK,MAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ,EAAsBN,IAAtB,CAA4BG,IAAD,IAAe;AACxCP,QAAAA,WAAW,CAACO,IAAD,CAAX;AACD,OAFD;AAGD,KAZH;AAaD,GAdD;;AAgBAb,EAAAA,SAAS,CAAC,MAAM;AACdQ,IAAAA,cAAc;AACf,GAFQ,EAEN,EAFM,CAAT;AAIA,sBACE;AAAS,IAAA,SAAS,EAAC,2BAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAU,IAAA,QAAQ,EAAEH,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF;AAKD,CA7BM","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Comments } from \"./comments/comments.component\";\n\nexport const StoryComments = () => {\n  const [comments, setComments] = useState([]);\n  const { id } = useParams();\n\n  const getTopComments = async () => {\n    axios\n      .get(`https://hacker-news.firebaseio.com/v0/item/${id}.json`)\n      .then((res) => {\n        const topComments = res.data.kids.slice(0, 20);\n        const promises = topComments.map((id: number) => {\n          return axios\n            .get(`https://hacker-news.firebaseio.com/v0/item/${id}.json`)\n            .then((res) => res.data);\n        });\n        Promise.all(promises).then((data: any) => {\n          setComments(data);\n        });\n      });\n  };\n\n  useEffect(() => {\n    getTopComments();\n  }, []);\n\n  return (\n    <section className=\"c-story-comments--section\">\n      <Comments comments={comments} />\n    </section>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}